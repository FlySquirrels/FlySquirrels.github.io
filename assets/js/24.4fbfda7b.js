(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{307:function(s,a,t){"use strict";t.r(a);var n=t(14),r=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"godot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#godot"}},[s._v("#")]),s._v(" Godot")]),s._v(" "),a("h2",{attrs:{id:"导出-4-2-x"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导出-4-2-x"}},[s._v("#")]),s._v(" 导出 4.2.x")]),s._v(" "),a("p",[s._v("Android studio配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Android SDK Platform-Tools 30.0.5 或更高版本\n\nAndroid SDK Build-Tools 版本 33.0.2\n\nAndroid SDK Platform 33\n\nAndroid SDK Command-line Tools（最新）\n\nCMake 版本 3.10.2.4988404\n\nNDK 版本 r23c（23.2.8568313）\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("创建 debug.keystore 密钥库配置文件")]),s._v(" "),a("ul",[a("li",[s._v("alias 后跟用户名")]),s._v(" "),a("li",[s._v("keypass 后跟密码")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("keytool "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("keyalg "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RSA")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("genkeypair "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("alias androiddebugkey "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("keypass android "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("keystore debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("keystore "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("storepass android "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dname "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CN=Android Debug,O=Android,C=US"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("validity "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9999")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("deststoretype pkcs12\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("项目配置")]),s._v(" "),a("ol",[a("li",[s._v("兼容模式")]),s._v(" "),a("li",[s._v("编辑器android sdk路径配置")]),s._v(" "),a("li",[s._v("编辑器andorid 密钥库配置文件")]),s._v(" "),a("li",[s._v("项目 窗口 拉伸模式 viewport(防止手机端拉伸)")])]),s._v(" "),a("h2",{attrs:{id:"项目实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目实战"}},[s._v("#")]),s._v(" 项目实战")]),s._v(" "),a("p",[s._v("平滑相机组件：Camera2D")]),s._v(" "),a("ol",[a("li",[s._v("作为角色的子节点")]),s._v(" "),a("li",[s._v("Drag启用属性 "),a("code",[s._v("-horizontal -vertical")])]),s._v(" "),a("li",[s._v("平滑属性 "),a("code",[s._v("position smoothing")])]),s._v(" "),a("li",[s._v("limit 配置上下左右可视距离 smoothed 显示极限到距离有个减速过程")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("   # 假设镜头已是角色子节点，并已获取镜头和地图\n   # 初始化设置镜头范围\n   func "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("initCamera2DPositionArea")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("camera"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("Camera2D"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("tilemap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("TileMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n       # 根据地图设置镜头极限显示区域\n       "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("used")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("Rect2i  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tilemap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get_used_rect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("title_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("Vector2i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tilemap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tile_set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tile_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       #camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit_top "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" title_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit_bottom "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" title_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit_right "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" title_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit_left "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" title_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit_smoothed "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n       # 开启自由区域\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("drag_horizontal_enabled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("drag_vertical_enabled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       # 镜头内自由自动，不跟随区域\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("drag_top_margin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("drag_bottom_margin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("drag_left_margin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("drag_right_margin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       \n       # 取消初始过度动画\n       camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reset_smoothing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("视差背景组件: ParallaxBackground")]),s._v(" "),a("ol",[a("li",[s._v("添加视差背景显示组件：ParallaxLayer")]),s._v(" "),a("li",[s._v("将背景拖动到组件成为子节点，重置transform和offset属性到达原点")]),s._v(" "),a("li",[s._v("修改显示组件的scale的x y形成视差 0.3 0.1")]),s._v(" "),a("li",[s._v("多创建几个视差观感更好，近快远慢")]),s._v(" "),a("li",[s._v("设置前景1.3 1.3 背景0.9 0.9 远景0.3 0.2")])]),s._v(" "),a("p",[s._v("移动加速: move_toward(当前值,移动距离,加速度 * delta)")])])}),[],!1,null,null,null);a.default=r.exports}}]);